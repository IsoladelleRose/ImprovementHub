<div class="roadmap-container">
<header class="navbar" [class.ideas-active]="activeSection === 'ideas'">
  <div class="nav-left">
    <div class="logo">
      <svg width="24" height="24" viewBox="0 0 120 120" fill="none" stroke="currentColor" stroke-width="6" stroke-linecap="round">
        <path d="M60 25 C42 25, 30 37, 30 55 C30 68, 37 75, 42 80 L42 90 L78 90 L78 80 C83 75, 90 68, 90 55 C90 37, 78 25, 60 25 Z"/>
        <line x1="42" y1="95" x2="78" y2="95"/>
        <line x1="47" y1="100" x2="73" y2="100"/>
        <path d="M60 10 L57 18 M60 10 L63 18 M40 30 L47 33 M80 30 L73 33"/>
      </svg>
      <span>INNOVISION</span>
    </div>
  </div>
  <div class="nav-center">
    <nav class="nav-links">
      <a href="#" class="nav-link">HOME</a>
      <a href="#" class="nav-link">WHO WE ARE</a>
      <a href="#" class="nav-link">VIEWS</a>
      <a href="#" class="nav-link">CONTACT</a>
    </nav>
  </div>
  <div class="nav-right">
    <button class="notification-btn">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"/>
        <path d="M13.73 21a2 2 0 0 1-3.46 0"/>
      </svg>
      <span class="notification-badge">1</span>
    </button>
    <div class="profile-avatar">
      <img src="https://i.pravatar.cc/150?img=12" alt="Profile">
    </div>
  </div>
</header>

<div class="page-layout">
  <!-- Sidebar -->
  <aside class="sidebar">

    <div class="menu-section">
      <div class="menu-item" [class.active]="activeSection === 'profile'" (click)="setActiveSection('profile')">
        <svg class="menu-icon" width="20" height="20" viewBox="0 0 20 20" fill="none">
          <circle cx="10" cy="6" r="3" stroke="currentColor" stroke-width="1.5"/>
          <path d="M4 16c0-3.3 2.7-6 6-6s6 2.7 6 6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
        </svg>
        <span>Profile</span>
      </div>
      <div class="menu-item" [class.active]="activeSection === 'ideas'" (click)="setActiveSection('ideas')">
        <svg class="menu-icon" width="20" height="20" viewBox="0 0 20 20" fill="none">
          <path d="M10 3 C7 3, 5 5, 5 8 C5 10, 6 11, 7 12 L7 14 L13 14 L13 12 C14 11, 15 10, 15 8 C15 5, 13 3, 10 3 Z" stroke="currentColor" stroke-width="1.5"/>
          <line x1="7" y1="15" x2="13" y2="15" stroke="currentColor" stroke-width="1.5"/>
          <path d="M10 1 L9 2 M10 1 L11 2" stroke="currentColor" stroke-width="1.5"/>
        </svg>
        <span>Ideas</span>
      </div>
      <div class="menu-item" [class.active]="activeSection === 'roadmap'" (click)="setActiveSection('roadmap')">
        <svg class="menu-icon" width="20" height="20" viewBox="0 0 20 20" fill="none">
          <path d="M3 10 L8 5 M8 5 L13 10 M13 10 L17 6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
          <circle cx="3" cy="10" r="2" fill="currentColor"/>
          <circle cx="8" cy="5" r="2" fill="currentColor"/>
          <circle cx="13" cy="10" r="2" fill="currentColor"/>
          <circle cx="17" cy="6" r="2" fill="currentColor"/>
        </svg>
        <span>Roadmap</span>
      </div>
      <div class="menu-item" [class.active]="activeSection === 'billing'" (click)="setActiveSection('billing')">
        <svg class="menu-icon" width="20" height="20" viewBox="0 0 20 20" fill="none">
          <rect x="2" y="5" width="16" height="10" rx="2" stroke="currentColor" stroke-width="1.5"/>
          <path d="M2 9h16" stroke="currentColor" stroke-width="1.5"/>
        </svg>
        <span>Billing information</span>
      </div>
      <div class="menu-item" [class.active]="activeSection === 'password'" (click)="setActiveSection('password')">
        <svg class="menu-icon" width="20" height="20" viewBox="0 0 20 20" fill="none">
          <rect x="5" y="9" width="10" height="8" rx="1" stroke="currentColor" stroke-width="1.5"/>
          <path d="M7 9V6c0-1.7 1.3-3 3-3s3 1.3 3 3v3" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
        </svg>
        <span>Password</span>
      </div>
      <div class="menu-item" [class.active]="activeSection === 'settings'" (click)="setActiveSection('settings')">
        <svg class="menu-icon" width="20" height="20" viewBox="0 0 20 20" fill="none">
          <circle cx="10" cy="10" r="3" stroke="currentColor" stroke-width="1.5"/>
          <path d="M10 2v2m0 12v2m8-8h-2M4 10H2m14.3-5.7l-1.4 1.4M7.1 14.3l-1.4 1.4m9.6 0l-1.4-1.4M7.1 5.7L5.7 4.3" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
        </svg>
        <span>Settings</span>
      </div>
    </div>

  </aside>

  <!-- Main Content -->
  <main class="main-content">
    <!-- Roadmap Section -->
    <div *ngIf="activeSection === 'roadmap'">
        <div class="progress-section">
      <div class="progress-steps">
        <div class="step active">
          <div class="step-number">1</div>
          <div class="step-label">Registration</div>
        </div>
        <div class="step-connector"></div>
        <div class="step">
          <div class="step-number">2</div>
          <div class="step-label">Matching</div>
        </div>
        <div class="step-connector"></div>
        <div class="step">
          <div class="step-number">3</div>
          <div class="step-label">Idea Proposal</div>
        </div>
        <div class="step-connector"></div>
        <div class="step">
          <div class="step-number">4</div>
          <div class="step-label">Idea Acceptance</div>
        </div>
        <div class="step-connector"></div>
        <div class="step">
          <div class="step-number">5</div>
          <div class="step-label">Idea Development</div>
        </div>
      </div>
    </div>

    <div class="ideas-section">
      <h2>Ideas you support</h2>
      <div class="idea-card">
        <div class="idea-icon">
          <svg width="60" height="60" viewBox="0 0 120 120" fill="none" stroke="currentColor" stroke-width="4">
            <path d="M60 25 C42 25, 30 37, 30 55 C30 68, 37 75, 42 80 L42 90 L78 90 L78 80 C83 75, 90 68, 90 55 C90 37, 78 25, 60 25 Z"/>
            <line x1="42" y1="95" x2="78" y2="95"/>
            <line x1="47" y1="100" x2="73" y2="100"/>
            <path d="M60 10 L57 18 M60 10 L63 18"/>
          </svg>
        </div>
        <div class="idea-content">
          <p>Figma ipsum component variant main layer. Underline device flatten hand plugin editor union undo overflow boolean. Boolean comment distribute invite overflow duplicate. Bold invite library move boolean. Follower selection comment overflow rotate.</p>
        </div>
        <div class="idea-progress">
          <svg class="progress-circle" width="100" height="100" viewBox="0 0 100 100">
            <circle cx="50" cy="50" r="40" fill="none" stroke="#e0e0e0" stroke-width="8"/>
            <circle cx="50" cy="50" r="40" fill="none" stroke="#28a745" stroke-width="8"
                    stroke-dasharray="251.2" stroke-dashoffset="200.96"
                    transform="rotate(-90 50 50)"/>
          </svg>
          <div class="progress-text">20%</div>
        </div>
      </div>
    </div>
    </div>

    <!-- Ideas Section -->
    <div *ngIf="activeSection === 'ideas'" class="section-content">
      <div class="progress-section">
      <div class="progress-steps">
        <div class="step active">
          <div class="step-number">1</div>
          <div class="step-label">Registration</div>
        </div>
        <div class="step-connector"></div>
        <div class="step">
          <div class="step-number">2</div>
          <div class="step-label">Matching</div>
        </div>
        <div class="step-connector"></div>
        <div class="step">
          <div class="step-number">3</div>
          <div class="step-label">Idea Proposal</div>
        </div>
        <div class="step-connector"></div>
        <div class="step">
          <div class="step-number">4</div>
          <div class="step-label">Idea Acceptance</div>
        </div>
        <div class="step-connector"></div>
        <div class="step">
          <div class="step-number">5</div>
          <div class="step-label">Idea Development</div>
        </div>
      </div>
    </div>

      <div class="ideas-section">
        <h2>Ideas you support</h2>
        <div class="idea-card">
          <div class="idea-icon">
            <svg width="60" height="60" viewBox="0 0 120 120" fill="none" stroke="currentColor" stroke-width="4">
              <path d="M60 25 C42 25, 30 37, 30 55 C30 68, 37 75, 42 80 L42 90 L78 90 L78 80 C83 75, 90 68, 90 55 C90 37, 78 25, 60 25 Z"/>
              <line x1="42" y1="95" x2="78" y2="95"/>
              <line x1="47" y1="100" x2="73" y2="100"/>
              <path d="M60 10 L57 18 M60 10 L63 18"/>
            </svg>
          </div>
          <div class="idea-content">
            <p>Figma ipsum component variant main layer. Underline device flatten hand plugin editor union undo overflow boolean. Boolean comment distribute invite overflow duplicate. Bold invite library move boolean. Follower selection comment overflow rotate.</p>
          </div>
          <div class="idea-progress">
            <svg class="progress-circle" width="100" height="100" viewBox="0 0 100 100">
              <circle cx="50" cy="50" r="40" fill="none" stroke="#e0e0e0" stroke-width="8"/>
              <circle cx="50" cy="50" r="40" fill="none" stroke="#ffc107" stroke-width="8"
                      stroke-dasharray="251.2" stroke-dashoffset="200.96"
                      transform="rotate(-90 50 50)"/>
            </svg>
            <div class="progress-text">20%</div>
          </div>
        </div>
      </div>
    </div>

      <!-- Profile Section -->
      <div *ngIf="activeSection === 'profile'" class="section-content">
        <div class="info-card">
          <div class="card-header">
            <h2>User Profile</h2>
          </div>
          <div class="profile-info">
            <div class="info-group">
              <label>Email Address</label>
              <div class="info-value">{{ user?.emailAddress || 'N/A' }}</div>
            </div>
            <div class="info-group">
              <label>User Role</label>
              <div class="info-value">{{ getUserRole() }}</div>
            </div>
            <div class="info-group">
              <label>Language</label>
              <div class="info-value">{{ user?.language || 'N/A' }}</div>
            </div>
            <div class="info-group">
              <label>Member Since</label>
              <div class="info-value">{{ getMemberSince() }}</div>
            </div>
            <div class="info-group">
              <label>User ID</label>
              <div class="info-value">#{{ user?.userId || user?.id || 'N/A' }}</div>
            </div>
          </div>
        </div>
      </div>

      <!-- Password Section -->
      <div *ngIf="activeSection === 'passwords'" class="section-content">
        <div class="section-header">
          <h1>Password Management</h1>
          <div class="decorative-arrow">ðŸ”’</div>
        </div>

        <!-- Success Message -->
        <div *ngIf="passwordChangeSuccess" class="success-message">
          {{ passwordChangeSuccess }}
        </div>

        <!-- Error Message -->
        <div *ngIf="passwordChangeError" class="error-message">
          {{ passwordChangeError }}
        </div>

        <div class="password-card">
          <div class="card-header">
            <h2>Change Password</h2>
          </div>

          <form (ngSubmit)="onChangePassword()" class="password-form">
            <div class="form-group">
              <label for="currentPassword">Current Password</label>
              <input
                type="password"
                id="currentPassword"
                [(ngModel)]="currentPassword"
                name="currentPassword"
                placeholder="Enter your current password"
                required
                [disabled]="isChangingPassword"
              />
            </div>

            <div class="form-group">
              <label for="newPassword">New Password</label>
              <input
                type="password"
                id="newPassword"
                [(ngModel)]="newPassword"
                name="newPassword"
                placeholder="Enter your new password"
                required
                [disabled]="isChangingPassword"
              />
              <div class="password-requirements">
                <small>Password must be at least 8 characters long and contain uppercase, lowercase, number, and special character.</small>
              </div>
            </div>

            <div class="form-group">
              <label for="confirmNewPassword">Confirm New Password</label>
              <input
                type="password"
                id="confirmNewPassword"
                [(ngModel)]="confirmNewPassword"
                name="confirmNewPassword"
                placeholder="Confirm your new password"
                required
                [disabled]="isChangingPassword"
              />
            </div>

            <button
              type="submit"
              class="change-password-btn"
              [disabled]="isChangingPassword || !currentPassword || !newPassword || !confirmNewPassword"
            >
              {{ isChangingPassword ? 'CHANGING PASSWORD...' : 'CHANGE PASSWORD' }}
            </button>
          </form>
        </div>
      </div>
      <div *ngIf="activeSection === 'settings'" class="section-content">
        <div class="info-card">
          <p>General settings will be available in a future update.</p>
        </div>
      </div>
  </main>
</div>
</div>
